(this["webpackJsonpbooking-app"]=this["webpackJsonpbooking-app"]||[]).push([[0],{239:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(44),i=a.n(n),l=a(9),r=a(5),o=a(2),d=a.p+"static/media/bg.fa917832.jpg",j=a(17),b=a(20),m=a(50),h=a(0),u=function(e){var t=e.label,a=Object(m.a)(e,["label"]),c=Object(j.d)(a),s=Object(o.a)(c,2),n=s[0],i=s[1];return Object(h.jsxs)("div",{className:"mb-2",children:[Object(h.jsx)("label",{htmlFor:n.name,children:t}),Object(h.jsx)("input",Object(b.a)(Object(b.a)(Object(b.a)({className:"form-control shadow-none ".concat(i.touched&&i.error&&"is-invalid")},n),a),{},{autoComplete:"off"})),Object(h.jsx)(j.a,{component:"div",name:n.name,className:"error"})]})},O=a(19),x=a(7),g=a.n(x),p=window.location.href.split(":"),v=p="https"===p[0]?"https://parking-app-react.herokuapp.com":"http://localhost:4000",f=a(16),N=function(e){return{type:"ADD_USER",payload:e}};var w=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(),i=Object(o.a)(n,2),r=i[0],b=i[1],m=Object(c.useState)(!1),x=Object(o.a)(m,2),p=x[0],w=x[1],y=Object(f.b)(),S=O.a({email:O.b().email("Email is invalid").required("Email is required"),password:O.b().min(6,"Password must be at least 6 charaters").required("Password is required")});return Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(d,")"),height:"100vh",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:Object(h.jsx)("div",{className:"container ",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"100%",height:"100vh"},children:Object(h.jsx)("div",{className:"col-md-5 bg-white px-5 pb-3",children:Object(h.jsx)(j.c,{initialValues:{email:"",password:""},validationSchema:S,onSubmit:function(e){var t={email:e.email.toLowerCase(),password:e.password};w(!0),g()({method:"post",url:v+"/login",data:t,withCredentials:!0}).then((function(e){200===e.data.status?(b("alert-success"),s(e.data.message),y(N({loginStatus:!0,loginUser:e.data.user,role:e.data.user.role}))):(b("alert-danger"),w(!1),s(e.data.message),setTimeout((function(){s("")}),3e3))})).catch((function(e){console.log(e)}))},children:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"my-4 font-weight-bold .display-4",style:{color:"#083144"},children:"Login"}),Object(h.jsxs)(j.b,{children:[Object(h.jsx)(u,{label:"Email",name:"email",type:"email"}),Object(h.jsx)(u,{label:"Password",name:"password",type:"password"}),Object(h.jsx)("button",{className:"btn text-white",style:{width:"100%",backgroundColor:"#083144"},type:"submit",children:p?Object(h.jsx)("div",{className:"text-center mt-2",children:Object(h.jsx)("div",{className:"spinner-border",style:{width:20,height:20},role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(h.jsx)("span",{children:"Login"})})]}),Object(h.jsxs)("p",{className:"mt-2",children:["Already have an account? ",Object(h.jsx)(l.b,{to:"/",children:"Signup"})," "]}),a?Object(h.jsx)("div",{className:"alert ".concat(r),role:"alert",children:a}):null]})}})})})})})})},y=function(e){var t=e.label,a=Object(m.a)(e,["label"]),c=Object(j.d)(a),s=Object(o.a)(c,2),n=s[0],i=s[1];return Object(h.jsxs)("div",{className:"mb-2",children:[Object(h.jsx)("label",{htmlFor:n.name,children:t}),Object(h.jsx)("input",Object(b.a)(Object(b.a)(Object(b.a)({className:"form-control shadow-none ".concat(i.touched&&i.error&&"is-invalid")},n),a),{},{autoComplete:"off"})),Object(h.jsx)(j.a,{component:"div",name:n.name,className:"error"})]})};var S=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(),i=Object(o.a)(n,2),r=i[0],b=i[1],m=Object(c.useState)(!1),u=Object(o.a)(m,2),x=u[0],p=u[1],f=O.a({firstName:O.b().max(15,"Must be 15 characters or less").required("Required"),lastName:O.b().max(20,"Must be 20 characters or less").required("Required"),email:O.b().email("Email is invalid").required("Email is required"),phone:O.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid"),password:O.b().min(6,"Password must be at least 6 charaters").required("Password is required")});return Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(d,")"),height:"100vh",width:"100%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},children:Object(h.jsx)("div",{className:"container ",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{width:"100%",height:"100vh"},children:Object(h.jsx)("div",{className:"col-md-5 bg-white px-5 pb-3",style:{marginTop:"40px"},children:Object(h.jsx)(j.c,{initialValues:{firstName:"",lastName:"",email:"",phone:"",password:""},validationSchema:f,onSubmit:function(e,t){var a={firstName:e.firstName,lastName:e.lastName,email:e.email.toLowerCase(),phone:e.phone,password:e.password};p(!0),g()({method:"post",url:v+"/signup",data:a,withCredentials:!0}).then((function(e){200===e.data.status?(b("alert-success"),s(e.data.message),t.resetForm(),p(!1)):(b("alert-danger"),s(e.data.message),setTimeout((function(){s("")}),3e3))})).catch((function(e){console.log(e)}))},children:function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{className:"my-4 font-weight-bold .display-4",style:{color:"#083144"},children:"Sign Up"}),Object(h.jsxs)(j.b,{children:[Object(h.jsx)(y,{label:"First Name",name:"firstName",type:"text"}),Object(h.jsx)(y,{label:"Last Name",name:"lastName",type:"text"}),Object(h.jsx)(y,{label:"Email",name:"email",type:"email"}),Object(h.jsx)(y,{label:"Phone",name:"phone",type:"text"}),Object(h.jsx)(y,{label:"Password",name:"password",type:"password"}),Object(h.jsx)("button",{className:"btn text-white w-100",style:{backgroundColor:"#083144"},type:"submit",children:x?Object(h.jsx)("div",{className:"text-center mt-2",children:Object(h.jsx)("div",{className:"spinner-border",style:{width:20,height:20},role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(h.jsx)("span",{children:"Register"})})]}),Object(h.jsxs)("p",{className:"mt-2",children:["Already have an account? ",Object(h.jsx)(l.b,{to:"/login",children:"Login"})," "]}),a?Object(h.jsx)("div",{className:"alert ".concat(r),role:"alert",children:a}):null]})}})})})})})})};var D=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){g()({method:"get",url:v+"/getLocations",withCredentials:!0}).then((function(e){200===e.status?s(e.data.data):console.log(e)})).catch((function(e){console.log(e)}))}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row mt-5",children:a.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-4",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{src:e.imgUrl,className:"card-img-top",alt:"...",style:{height:200}}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title text-capitalize",style:{color:"#083144"},children:e.location}),Object(h.jsx)("p",{className:"card-text",children:e.desc}),Object(h.jsx)(l.b,{to:{pathname:"/booking",state:e},className:"btn text-white",style:{backgroundColor:"#083144"},children:"Booking"})]})]})},t)}))})})})},k=a(11),C=a.n(k),L=a(8),A=a.n(L);var B=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(""),l=Object(o.a)(i,2),r=l[0],d=l[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),m=b[0],u=b[1],O=Object(c.useState)(""),x=Object(o.a)(O,2),p=x[0],f=x[1],N=Object(c.useState)(""),w=Object(o.a)(N,2),y=w[0],S=w[1],D=Object(c.useState)(),k=Object(o.a)(D,2),L=k[0],B=k[1],q=Object(c.useState)(""),E=Object(o.a)(q,2),T=E[0],U=E[1],M=Object(c.useState)(!0),I=Object(o.a)(M,2),P=I[0],Y=I[1],z=Object(c.useState)(!1),R=Object(o.a)(z,2),F=R[0],V=R[1],H=Object(c.useState)(!1),J=Object(o.a)(H,2),_=J[0],K=J[1],W=e.location.state.slots;console.log(W);for(var X=[],$=1;$<=W;$++)X.push($);var G=new Date(r+" "+p),Q=new Date(m+" "+y);function Z(){""===L||void 0===L?U("Required"):g()({method:"post",url:v+"/booking",data:{location:e.location.state.location,startDate:Number(G),endDate:Number(Q),slot:L},withCredentials:!0}).then((function(e){200===e.data.status?(console.log(e.data.message),C.a.fire("Congratulations",e.data.message,"success"),K(!1),Y(!0),V(!1),d(""),f(""),u(""),S("")):(console.log(e.data.message),C.a.fire({icon:"error",title:"Oops...",text:e.data.message}))})).catch((function(e){console.log(e)}))}var ee=new Date(G).toLocaleTimeString(),te=new Date(Q).toLocaleTimeString();ee=A()(ee,"h:mm"),te=A()(te,"h:mm");var ae=[];s.find((function(e,t){return A()(new Date(G).toLocaleString()).isSameOrAfter(new Date(e.startDate).toLocaleString())&&A()(new Date(G).toLocaleString()).isSameOrBefore(new Date(e.endDate).toLocaleString())||A()(new Date(e.startDate).toLocaleDateString()).isBetween(new Date(G).toLocaleDateString(),new Date(Q).toLocaleDateString())&&new Date(G).getMinutes()>=new Date(e.startDate).getMinutes()&&new Date(G).getMinutes()<=new Date(e.endDate).getMinutes()||A()(new Date(Q).toLocaleString()).isSameOrBefore(new Date(e.endDate).toLocaleString())&&A()(new Date(Q).toLocaleString()).isSameOrAfter(new Date(e.startDate).toLocaleString())||A()(new Date(e.endDate).toLocaleDateString()).isBetween(new Date(G).toLocaleDateString(),new Date(Q).toLocaleDateString())&&new Date(Q).getMinutes()>=new Date(e.endDate).getMinutes()&&new Date(Q).getMinutes()<=new Date(e.startDate).getMinutes()?ae.push(Number(e.slot)):void 0}));var ce=X.filter((function(e){return ae.indexOf(e)<0}));function se(e){console.log(e.target.name),"startDay"===e.target.name?d(e.target.value):"startTime"===e.target.name?f(e.target.value):"endTime"===e.target.name?S(e.target.value):u(e.target.value),K(!1),Y(!0),V(!1)}return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row justify-content-center",children:[Object(h.jsx)("h2",{className:"text-center mt-3",children:"Book Parking"}),Object(h.jsxs)("div",{className:"col-md-5 bg-white py-4 px-4 mt-3",style:{boxShadow:"0 0 10px grey"},children:[Object(h.jsx)("h2",{className:"text-center mb-3 text-capitalize",children:e.location.state.location}),Object(h.jsxs)("form",{onSubmit:K?function(t){t.preventDefault(),A()(r)>A()(m)?C.a.fire({icon:"error",title:"Oops...",text:"End Date should be equal or greater than start date"}):A()(y)<=A()(p)?C.a.fire({icon:"error",title:"Oops...",text:"End time should be greater than start time"}):te.diff(ee,"minutes")<=14?C.a.fire({icon:"error",title:"Oops...",text:"Maximum booking time is 15 minutes"}):(g()({method:"post",url:v+"/validateSlot",data:{startDate:Number(G),endDate:Number(Q),location:e.location.state.location},withCredentials:!0}).then((function(e){200===e.data.status?(n(e.data.data),console.log(e.data.data)):n([])})).catch((function(e){console.log(e)})),K(!0),Y(!1),V(!0))}:Z,children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Start Day"}),Object(h.jsx)("input",{type:"date",className:"form-control",min:A()().format("YYYY-MM-DD"),value:r,required:!0,onChange:se,name:"startDay"})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"End Day"}),Object(h.jsx)("input",{type:"date",className:"form-control",min:A()().format("YYYY-MM-DD"),value:m,required:!0,onChange:se,name:"endDay"})]})]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Start Time"}),Object(h.jsx)("input",{type:"time",className:"form-control",min:A()().format("H:mm"),value:p,required:!0,onChange:se,name:"startTime"})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"End Time"}),Object(h.jsx)("input",{type:"time",className:"form-control",min:A()().format("H:mm"),required:!0,onChange:se,name:"endTime"})]})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col",children:[_?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{children:"Select Slots"}),Object(h.jsxs)("select",{className:"form-control",required:!0,onChange:function(e){return B(e.target.value)},children:[Object(h.jsx)("option",{children:"Select Slots"}),ce.map((function(e,t){return Object(h.jsxs)("option",{value:e,children:["Slot ",e]},t)}))]})]}):null,T?Object(h.jsx)("p",{className:"text-danger",style:{fontSize:12},children:T}):null]})}),F?Object(h.jsx)("button",{className:"btn text-white mt-3 w-100",style:{backgroundColor:"#083144"},type:"button",onClick:Z,children:"Book"}):null,P?Object(h.jsx)("button",{className:"btn text-white mt-3 w-100",style:{backgroundColor:"#083144"},type:"submit",children:"Show Slot"}):null]})]})]})})};var q=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){g()({method:"get",url:v+"/getBookings",withCredentials:!0}).then((function(e){console.log(e.data.data),s(e.data.data)})).catch((function(e){console.log(e)}))}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row mt-5",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{style:{backgroundColor:"#083144",color:"#fff"},children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Full Name"}),Object(h.jsx)("th",{scope:"col",children:"Slot"}),Object(h.jsx)("th",{scope:"col",children:"Start Date"}),Object(h.jsx)("th",{scope:"col",children:"End Date"}),Object(h.jsx)("th",{scope:"col",children:"Start Time"}),Object(h.jsx)("th",{scope:"col",children:"End Time"}),Object(h.jsx)("th",{scope:"col",children:"Location"})]})}),0===a.length?Object(h.jsx)("p",{children:"No booking you have made"}):a&&a.map((function(e,t){return Object(h.jsx)("tbody",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:t+1}),Object(h.jsx)("td",{className:"text-capitalize",children:e.firstName+" "+e.lastName}),Object(h.jsxs)("td",{children:["Slot ",e.slot]}),Object(h.jsx)("td",{children:new Date(e.startDate).toLocaleDateString()}),Object(h.jsx)("td",{children:new Date(e.endDate).toLocaleDateString()}),Object(h.jsx)("td",{children:new Date(e.startDate).toLocaleTimeString()}),Object(h.jsx)("td",{children:new Date(e.endDate).toLocaleTimeString()}),Object(h.jsx)("td",{className:"text-capitalize",children:e.location})]})},t)}))]})})})})};var E=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){g()({method:"get",url:v+"/getLocations",withCredentials:!0}).then((function(e){200===e.status?s(e.data.data):console.log(e)})).catch((function(e){console.log(e)}))}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row mt-5",children:a.map((function(e,t){return Object(h.jsx)("div",{className:"col-md-4",children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsx)("img",{src:e.imgUrl,className:"card-img-top",alt:"...",style:{height:200,overflow:"scroll"}}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title text-capitalize",style:{color:"#083144"},children:e.location}),Object(h.jsxs)("p",{children:["Slots ",e.slots]}),Object(h.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(e){var t=C.a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});t.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then((function(a){a.isConfirmed?g()({method:"post",url:v+"/deleteLocation",data:{id:e},withCredentials:!0}).then((function(e){t.fire("Deleted!","Your file has been deleted.","success"),window.location.reload(!1)})).catch((function(e){console.log(e)})):a.dismiss===C.a.DismissReason.cancel&&t.fire("Cancelled","Your imaginary file is safe :)","error")}))}(e._id)},children:"Delete"}),Object(h.jsx)("button",{className:"btn btn-dark ml-3",onClick:function(){return C.a.fire({title:e.location,text:e.desc,imageUrl:e.imgUrl,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})},children:"Details"})]})]})},t)}))})})})},T=a(65);a(240);T.a.initializeApp({apiKey:"AIzaSyDCXEsUcb59iNCf3JBeVaKUrraAsa8A07w",authDomain:"bloodapp-31bd2.firebaseapp.com",projectId:"bloodapp-31bd2",storageBucket:"bloodapp-31bd2.appspot.com",messagingSenderId:"61197933681",appId:"1:61197933681:web:c8f2db31707bb4e770cfd0"});var U=T.a.storage();var M=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row justify-content-center",children:[Object(h.jsx)("h2",{className:"text-center mt-3",children:"Add Parking Areas"}),Object(h.jsx)("div",{className:"col-md-5 bg-white py-4 px-4 mt-3",style:{boxShadow:"0 0 10px grey"},children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g()({method:"post",url:v+"/addAreaDetails",data:{location:document.getElementById("location").value,slots:document.getElementById("slots").value,desc:document.getElementById("desc").value,imgURl:a},withCredentials:!0}).then((function(e){console.log(e),200===e.data.status?C.a.fire("Congratulations",e.data.message,"success"):C.a.fire({icon:"error",title:"Oops...",text:e.data.message})})).catch((function(e){return[console.log(e)]}))},children:[Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Location"}),Object(h.jsx)("input",{type:"text",placeholder:"Location",className:"form-control",id:"location",required:!0})]}),Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Slots"}),Object(h.jsx)("input",{type:"number",placeholder:"Slots",className:"form-control",id:"slots",required:!0})]})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Description"}),Object(h.jsx)("textarea",{className:"form-control",placeholder:"Description",required:!0,id:"desc",rows:"3"})]})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col",children:[Object(h.jsx)("label",{children:"Area Image"}),Object(h.jsx)("input",{type:"file",className:"form-control",onChange:function(e){var t=e.target.files[0],a=Date.now();U.ref("picture/"+t+a).put(t).then((function(e){C.a.fire({position:"center",title:"Image is uploading",showConfirmButton:!1,timer:2e3});e.bytesTransferred,e.totalBytes;e.ref.getDownloadURL().then((function(e){s(e)}))}))},required:!0})]})}),Object(h.jsx)("button",{className:"btn text-white mt-3",style:{backgroundColor:"#083144"},type:"submit",children:"Add"})]})})]})})};var I=function(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.addUser})),a=Object(r.g)();return Object(h.jsxs)("div",{className:"justify-content-right",children:[Object(h.jsx)("span",{className:"text-white mr-3",style:{textTransform:"capitalize"},children:t.loginUser.firstName}),Object(h.jsx)("button",{className:"btn btn-light ",onClick:function(){g()({method:"get",url:v+"/logout",withCredentials:!0}).then((function(t){e(N({loginStatus:!1,role:null})),a.push("/login")}),(function(e){console.log(e)}))},children:"logout"})]})};var P=function(){var e=Object(f.c)((function(e){return e.addUser}));return Object(h.jsx)("div",{style:{backgroundColor:"#083144"},children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("nav",{className:"navbar navbar-expand-lg pt-4 pb-4 ",children:[Object(h.jsx)("a",{className:"navbar-brand text-white",children:"Booking App"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:"user"===e.role?Object(h.jsxs)("div",{className:"navbar-nav",children:[Object(h.jsx)(l.b,{to:"/",className:"nav-item nav-link active text-white",children:"Areas"}),Object(h.jsx)(l.b,{to:"/viewbooking",className:"nav-item nav-link text-white",children:"View Booking"})]}):"admin"===e.role?Object(h.jsxs)("div",{className:"navbar-nav",children:[Object(h.jsx)(l.b,{to:"/",className:"nav-item nav-link active text-white",children:"Areas"}),Object(h.jsx)(l.b,{to:"/addarea",className:"nav-item nav-link text-white",children:"Add Area"})]}):null}),Object(h.jsx)(I,{})]})})})};var Y=function(){var e=Object(f.c)((function(e){return e.addUser})),t=Object(f.b)();return Object(c.useEffect)((function(){return g()({method:"get",url:v+"/profile",withCredentials:!0}).then((function(e){200===e.data.status&&t(N({loginUser:e.data.profile,loginStatus:!0,role:e.data.profile.role}))})).catch((function(e){e&&t(N({loginStatus:!1}))})),function(){console.log("cleanup")}}),[t]),null===e.loginUser?Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"d-flex align-items-center justify-content-center ",style:{width:"100%",height:"100vh"},children:Object(h.jsx)("div",{className:"spinner-border ",role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})})}):Object(h.jsxs)(l.a,{children:[!1===e.loginStatus?Object(h.jsx)("div",{children:Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{exact:!0,path:"/",component:S}),Object(h.jsx)(r.b,{path:"/login",component:w}),Object(h.jsx)(r.b,{path:"*",children:Object(h.jsx)(r.a,{to:"/"})})]})}):null,"user"===e.role?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{}),Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{exact:!0,path:"/",component:D}),Object(h.jsx)(r.b,{path:"/booking",component:B}),Object(h.jsx)(r.b,{path:"/viewbooking",component:q}),Object(h.jsx)(r.b,{path:"*",children:Object(h.jsx)(r.a,{to:"/"})})]})]}):null,"admin"===e.role?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(P,{}),Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{exact:!0,path:"/",component:E}),Object(h.jsx)(r.b,{path:"/addarea",component:M}),Object(h.jsx)(r.b,{path:"*",children:Object(h.jsx)(r.a,{to:"/"})})]})]}):null]})};var z=function(){return Object(h.jsx)(Y,{})},R=(a(238),a(49)),F={loginUser:null,loginStatus:!1,role:null},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER":return Object(b.a)({},t.payload);default:return e}},H=Object(R.a)({addUser:V}),J=Object(R.b)(H);i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(f.a,{store:J,children:Object(h.jsx)(z,{})})}),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.b4f9318b.chunk.js.map